% !TeX spellcheck = it_IT

\documentclass[]{beamer}

\usepackage[utf8]{inputenc}
\usepackage[italian]{babel}
\usepackage{multicol}
\usetheme{metropolis}

\usepackage{listings}

\usepackage{tikz}
\usetikzlibrary{shapes,arrows,positioning}

\tikzstyle{startstop} = [ellipse, draw, fill=bg, text=structure, text width=3em, text badly centered, inner sep=0pt]
\tikzstyle{block} = [rectangle, draw, fill=bg, text=structure, text width=5em, text centered]
\tikzstyle{decision} = [diamond, aspect=2, draw, fill=bg, text=structure, text width=3em, text badly centered, inner sep=0pt]
\tikzstyle{input} = [rectangle, draw, fill=bg, text=structure, text width=4em, text centered, rounded rectangle, rounded rectangle east arc=none]
\tikzstyle{output} = [rectangle, draw, fill=bg, text=structure, text width=4em, text centered, rounded rectangle, rounded rectangle west arc=none]

\tikzstyle{line} = [draw, -latex']


\title{Informatica B - Esercitazione 4}
\subtitle{Struct e riepilogo}

\author{Stefano Cereda\\
		stefano1.cereda@mail.polimi.it
	}
\date{24/10/2017}
\institute[PoliMi]{\vspace{0.5cm}\centering Politecnico di Milano \\ \vspace{0.2cm}
	\includegraphics[width=0.2\linewidth]{./logopolimi}}
%\logo{\includegraphics[width=15mm]{./logopolimi}}

\setbeamercovered{invisible}

\makeindex

\begin{document}
\begin{frame}
	\maketitle
\end{frame}


\begin{frame}{Esercizio 1 - Struct}
Si vuole gestire l’anagrafe della motorizzazione e dei proprietari di auto. Un veicolo è identificato da:
\begin{itemize}
\item Targa
\item Modello
\item Proprietario (si suppone che ogni auto abbia un unico proprietario)
\end{itemize}

I proprietari di auto sono identificati dai campi:
\begin{itemize}
\item Cognome
\item Nome
\item Un insieme di indirizzi di recapito (max 3).
\end{itemize}

Un recapito è composto da: via, numero civico e CAP. L’anagrafe contiene al max N veicoli.
\end{frame}

\begin{frame}{Esercizio 1 - Struct}
Definire in C la struttura dati che permette di rappresentare la situazione descritta.

Scrivere il programma C che chiede all’utente di inserire i dati degli N veicoli da memorizzare
nell’anagrafe. Per ogni veicolo il programma deve acquisire anche le informazioni relative al
proprietario, inclusi i suoi recapiti. In una prima versione del programma si inseriscano esattamente
tre recapiti per proprietario, in una seconda versione si consenta all’utente di inserire un numero di
recapiti minore o uguale a tre.

Finita la fase di inserimento il programma stampa il contenuto della struttura nel formato:\\
VEICOLO Targa XXXXX \\
PROPRIETARIO Cognome XXXXXXXXX \\
RECAPITI CAP XXXXXXXXX ... XXXXXXXXX \\
\end{frame}

\begin{frame}{Esercizio 2 - Array e matrici}
Si scriva un programma che riceva in input un numero $dim<MAX\_V$ ($MAX\_V=100$) e chieda poi $dim$ interi in modo da popolare un vettore $v$. 

Il programma richiede all’utente altri due numeri, $r$ e $c$ rappresentanti le dimensioni di una matrice $m$.
Il programma deve usare i primi $r*c$ valori di $v$ per riempire la matrice $m$.

\begin{itemize}
\item Se $r*c > dim$ il programma termina scrivendo un messaggio di errore.
\item Se $r*c < dim$ il programma riempie $m$ e stampa i valori di $v$ che sono stati esclusi
dalla matrice.
\item Se $r*c = dim$ il programma stampa un messaggio di successo.
\end{itemize}

Nei casi in cui la matrice viene popolata si ricerchi all’interno di essa il massimo e minimo e se ne
stampino i valori.
	\end{frame}

\begin{frame}{Esercizio 3 - Codifica}
Si scriva la codifica in complemento a due dei numeri $a=-68$ e $b=+73$ utilizzando 8 bit.
Calcolare inoltre il risultato di $a-b$ e commentarlo.
\end{frame}

\begin{frame}{Esercizio 3 - Soluzione 1}
\begin{itemize}[<+->]
	\item Con 8 bit rappresento da $-2^{8-1} = -128$ a $+2^{8-1}-1 = +127$. Posso rappresentare gli operandi.
	\item $(-68) - (+73) = (-68) + (-73) = -141$ Non posso rappresentare il risultato, mi aspetto overflow.
	\item $-68 < 0 \rightarrow$ passo all'opposto, converto in base 2, copio da lsb a msb fino al primo uno poi complemento $\rightarrow 68_{10} = 1000100_2 = 01000100_2 \rightarrow 10111100$
	\item $-73 < 0 \rightarrow 73_{10} = 1001001_2 = 01001001_2 \rightarrow 10110111$
\end{itemize}
\end{frame}

\begin{frame}{Esercizio 3 - Soluzione 2}
\begin{tabular}{c|c}
	$10111100$ & + \\
	$10110111$ & = \\
	\hline
	\hskip-0.15cm\alert{1}$01110011$& \\
\end{tabular}

Ignoro il riporto e considero $01110011$, operandi concordi danno risultato discorde, si è verificato overflow.

Infatti, se converto $01110011$ ottengo $1+2+16+32+64 = 115$ (nota che $115+141=256=2^8$)
\end{frame}

\begin{frame}{Esercizio 4 - Stringhe e matrici}
Si definisca la struttura dati composta da una matrice di stringhe (NxN).

Si scriva quindi il codice che permette ad un utente di riempire la matrice con parole.
Alla fine della fase di inserimento si deve stampare la lunghezza media delle parole ed il numero
totale di caratteri presenti nella matrice.

Si costruisca un vettore contenente le parole presenti nella diagonale della matrice e se ne stampi
il contenuto.

Si chiede di inserire una parola da ricercare fra il contenuto della matrice. Il risultato della ricerca restituisce gli indici ([riga,colonna]) della prima occorrenza della parola (se essa esiste) oppure il valore -1.
\end{frame}

\end{document}